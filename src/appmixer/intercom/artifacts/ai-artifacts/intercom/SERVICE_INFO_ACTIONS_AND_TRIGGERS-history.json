[
    {
        "role": "user",
        "content": "# Intercom Connector - Preparation Context\n\n## Service Overview\n\nIntercom is a customer messaging platform that provides live chat, marketing automation, and customer support tools. The API allows access to conversations, contacts, companies, messages, articles, and other customer data. Key features include managing conversations, creating and updating contacts, sending messages, and accessing customer support tickets.\n\n**Official API Documentation:** https://developers.intercom.com/docs/references/introduction\n\n## Authentication Method\n\n**Type:** Bearer Token Authentication (Access Token)\n\n**How it works:**\n- Intercom uses Access Tokens for API authentication\n- Tokens are provided when creating an app in the Intercom workspace\n- Authentication is done via the `Authorization: Bearer <access_token>` header\n\n**How to obtain Access Token:**\n1. Create an app on your workspace at https://app.intercom.com/a/developer-signup\n2. Find your Access Token in the Configure > Authentication section in your app within the Developer Hub\n3. Alternative: Access tokens are also visible on the Test & Publish > Your Workspaces page\n\n**Important Security Notes:**\n- Access Tokens should be treated like passwords and never shared with third parties\n- For public integrations, OAuth should be used instead of Access Tokens\n- Access Tokens are suitable for private apps accessing your own workspace data\n\n**Authentication Documentation:** https://developers.intercom.com/docs/build-an-integration/learn-more/authentication\n\n## Planned Components\n\nBased on the API documentation analysis, the following essential components should be implemented:\n\n### Conversations Management\n1. **ListConversations** - Retrieve all conversations with pagination support\n2. **CreateConversation** - Create a new conversation initiated by a contact\n3. **RetrieveConversation** - Get detailed information about a specific conversation\n4. **UpdateConversation** - Update conversation properties like title, read status, custom attributes\n5. **DeleteConversation** - Delete a conversation\n6. **SearchConversations** - Search conversations using filters and criteria\n7. **ReplyToConversation** - Reply to a conversation with a message from admin or contact\n8. **ManageConversation** - Close, snooze, open, or assign conversations\n\n### Contacts Management\n9. **ListContacts** - Retrieve all contacts with pagination\n10. **CreateContact** - Create a new contact (lead or user)\n11. **RetrieveContact** - Get detailed information about a specific contact\n12. **UpdateContact** - Update contact properties, custom attributes\n13. **DeleteContact** - Delete a contact\n14. **SearchContacts** - Search contacts using filters\n15. **AttachContactToCompany** - Associate a contact with a company\n\n### Companies Management\n16. **ListCompanies** - Retrieve all companies\n17. **CreateCompany** - Create a new company\n18. **RetrieveCompany** - Get detailed information about a specific company\n19. **UpdateCompany** - Update company properties and custom attributes\n20. **DeleteCompany** - Delete a company\n21. **SearchCompanies** - Search companies using filters\n\n### Messages\n22. **SendMessage** - Send messages to contacts (emails, in-app messages)\n23. **ListMessages** - Retrieve sent messages\n\n### Tags Management\n24. **ListTags** - Retrieve all available tags\n25. **CreateTag** - Create a new tag\n26. **AttachTagToContact** - Add a tag to a contact\n27. **DetachTagFromContact** - Remove a tag from a contact\n28. **AttachTagToConversation** - Add a tag to a conversation\n29. **DetachTagFromConversation** - Remove a tag from a conversation\n\n### Notes\n30. **ListContactNotes** - Retrieve notes for a specific contact\n31. **CreateContactNote** - Add a note to a contact\n32. **RetrieveNote** - Get details of a specific note\n\n### Articles & Help Center\n33. **ListArticles** - Retrieve all articles from the help center\n34. **CreateArticle** - Create a new help center article\n35. **UpdateArticle** - Update an existing article\n36. **DeleteArticle** - Delete an article\n37. **SearchArticles** - Search articles by content\n\n### Teams & Admins\n38. **ListTeams** - Retrieve all teams\n39. **ListAdmins** - Retrieve all admin users\n40. **RetrieveAdmin** - Get details of a specific admin\n\n## API Characteristics\n\n- **Base URL:** https://api.intercom.io/\n- **API Version:** 2.14 (specified via Intercom-Version header)\n- **Authentication:** Bearer token in Authorization header\n- **Response Format:** JSON\n- **Pagination:** Cursor-based pagination for most list endpoints\n- **Rate Limiting:** API has rate limits that should be respected\n- **Error Handling:** Standard HTTP status codes with detailed error messages\n\n## Key API Features\n\n1. **Pagination**: Most list endpoints support cursor-based pagination with `starting_after` parameter\n2. **Search**: Advanced search capabilities for conversations, contacts, and companies with complex query filters\n3. **Custom Attributes**: Support for custom attributes on contacts, companies, and conversations\n4. **Webhooks**: Support for webhook integrations (not covered in this connector but available in the API)\n5. **Bulk Operations**: Some endpoints support bulk operations for efficiency\n6. **File Attachments**: Support for file attachments in conversations and messages\n\n## Implementation Priority\n\n### Phase 1 (Core Features):\n- ListContacts, CreateContact, UpdateContact, RetrieveContact\n- ListConversations, CreateConversation, RetrieveConversation, ReplyToConversation\n- ListCompanies, CreateCompany, UpdateCompany, RetrieveCompany\n- SendMessage\n\n### Phase 2 (Extended Features):\n- Search operations for contacts, conversations, companies\n- Tag management operations\n- Conversation management (close, assign, etc.)\n- Notes management\n\n### Phase 3 (Advanced Features):\n- Articles and help center management\n- Teams and admin management\n- Delete operations\n- Advanced conversation features\n\nThis connector will provide comprehensive integration with Intercom's customer messaging platform, enabling users to manage customer communications, contacts, and support workflows through Appmixer."
    },
    {
        "role": "system",
        "content": "I am planning to build an integration component for intercom. Could you provide me with a list and description of the most commonly used and essential API endpoints for this service? Specifically, I am interested in endpoints related to core operations. For each endpoint, please include the HTTP method (GET, POST, PUT, PATCH, DELETE), the endpoint URL or path, link to documentation, a brief description of its purpose, provide list of inputs. If possible, also mention any authentication requirements."
    },
    {
        "role": "user",
        "content": "Create the service json as well, (serviceJson property)"
    },
    {
        "role": "user",
        "content": "ignore input parameters for pagination, it could be for example page, offset, limit, etc."
    },
    {
        "role": "user",
        "content": "Action naming conventions: Try to avoid naming with \"List\", such as \"List Users\", \"List Contacts\" etc. Use \"Find\" instead. For example \"Find Users\", \"FInd Contacts\". These actions have usually input parameters for search, such as \"query\", \"search\" or similar."
    },
    {
        "role": "user",
        "content": "Provide information about authentication, include type of authentication, and other properties. Provide information about authentication endpoint URL, token URL for managing access token - for obtaining access token and refreshing access token. Provide information about profile info URL, where is possible to get information about current user. It is used for getting user profile information, such as email, name, etc. (authentication property)"
    },
    {
        "role": "assistant",
        "content": "{\n  \"actions\": [\n    {\n      \"title\": \"Find Contacts\",\n      \"description\": \"Retrieve a list of contacts based on search criteria. Use the 'query' parameter to filter contacts by name, email, or other attributes.\",\n      \"type\": \"action\",\n      \"documentation\": \"https://developers.intercom.com/reference#search-contacts\",\n      \"endpointUrl\": \"/contacts\",\n      \"apiBaseUrl\": \"https://api.intercom.io\",\n      \"method\": \"GET\",\n      \"sampleResponse\": {\n        \"contacts\": [\n          {\n            \"id\": \"12345\",\n            \"email\": \"john.doe@example.com\",\n            \"name\": \"John Doe\",\n            \"custom_attributes\": {}\n          }\n        ],\n        \"pages\": {\n          \"next\": \"cursor_for_next_page\"\n        }\n      },\n      \"inputSchema\": {\n        \"type\": \"object\",\n        \"description\": \"Input parameters for finding contacts\",\n        \"properties\": {\n          \"query\": {\n            \"type\": \"string\",\n            \"description\": \"Search query for filtering contacts by name, email, etc.\"\n          }\n        }\n      },\n      \"outputType\": {\n        \"outputType\": \"array\",\n        \"arrayPropertyValue\": \"contacts\"\n      }\n    },\n    {\n      \"title\": \"Create Contact\",\n      \"description\": \"Create a new contact with basic details and custom attributes.\",\n      \"type\": \"action\",\n      \"documentation\": \"https://developers.intercom.com/reference#create-a-contact\",\n      \"endpointUrl\": \"/contacts\",\n      \"apiBaseUrl\": \"https://api.intercom.io\",\n      \"method\": \"POST\",\n      \"sampleResponse\": {\n        \"id\": \"67890\",\n        \"email\": \"jane.doe@example.com\",\n        \"name\": \"Jane Doe\",\n        \"custom_attributes\": {}\n      },\n      \"inputSchema\": {\n        \"type\": \"object\",\n        \"description\": \"Input parameters for creating a new contact\",\n        \"properties\": {\n          \"email\": {\n            \"type\": \"string\",\n            \"description\": \"Email address of the contact\"\n          },\n          \"name\": {\n            \"type\": \"string\",\n            \"description\": \"Full name of the contact\"\n          },\n          \"custom_attributes\": {\n            \"type\": \"object\",\n            \"description\": \"A JSON object representing custom attributes\"\n          }\n        }\n      },\n      \"outputType\": {\n        \"outputType\": \"object\"\n      }\n    },\n    {\n      \"title\": \"Update Contact\",\n      \"description\": \"Update details for an existing contact by providing the contact ID and fields to update.\",\n      \"type\": \"action\",\n      \"documentation\": \"https://developers.intercom.com/reference#update-a-contact\",\n      \"endpointUrl\": \"/contacts/{id}\",\n      \"apiBaseUrl\": \"https://api.intercom.io\",\n      \"method\": \"PATCH\",\n      \"sampleResponse\": {\n        \"id\": \"12345\",\n        \"email\": \"john.updated@example.com\",\n        \"name\": \"John Updated\",\n        \"custom_attributes\": {}\n      },\n      \"inputSchema\": {\n        \"type\": \"object\",\n        \"description\": \"Input parameters for updating a contact\",\n        \"properties\": {\n          \"id\": {\n            \"type\": \"string\",\n            \"description\": \"The unique identifier of the contact\"\n          },\n          \"email\": {\n            \"type\": \"string\",\n            \"description\": \"Updated email address of the contact\"\n          },\n          \"name\": {\n            \"type\": \"string\",\n            \"description\": \"Updated full name of the contact\"\n          },\n          \"custom_attributes\": {\n            \"type\": \"object\",\n            \"description\": \"Updated custom attributes for the contact\"\n          }\n        }\n      },\n      \"outputType\": {\n        \"outputType\": \"object\"\n      }\n    },\n    {\n      \"title\": \"Retrieve Contact\",\n      \"description\": \"Get detailed information about a specific contact using its unique identifier.\",\n      \"type\": \"action\",\n      \"documentation\": \"https://developers.intercom.com/reference#retrieve-a-contact\",\n      \"endpointUrl\": \"/contacts/{id}\",\n      \"apiBaseUrl\": \"https://api.intercom.io\",\n      \"method\": \"GET\",\n      \"sampleResponse\": {\n        \"id\": \"12345\",\n        \"email\": \"john.doe@example.com\",\n        \"name\": \"John Doe\",\n        \"custom_attributes\": {}\n      },\n      \"inputSchema\": {\n        \"type\": \"object\",\n        \"description\": \"Input parameter for retrieving a contact's details\",\n        \"properties\": {\n          \"id\": {\n            \"type\": \"string\",\n            \"description\": \"The unique identifier of the contact\"\n          }\n        }\n      },\n      \"outputType\": {\n        \"outputType\": \"object\"\n      }\n    },\n    {\n      \"title\": \"Find Conversations\",\n      \"description\": \"Retrieve a list of conversations filtered by various criteria using a search query.\",\n      \"type\": \"action\",\n      \"documentation\": \"https://developers.intercom.com/reference#list-all-conversations\",\n      \"endpointUrl\": \"/conversations\",\n      \"apiBaseUrl\": \"https://api.intercom.io\",\n      \"method\": \"GET\",\n      \"sampleResponse\": {\n        \"conversations\": [\n          {\n            \"id\": \"conv_1\",\n            \"subject\": \"Issue with the product\",\n            \"status\": \"open\"\n          }\n        ],\n        \"pages\": {\n          \"next\": \"cursor_for_next_page\"\n        }\n      },\n      \"inputSchema\": {\n        \"type\": \"object\",\n        \"description\": \"Input parameters for finding conversations\",\n        \"properties\": {\n          \"query\": {\n            \"type\": \"string\",\n            \"description\": \"Search query for filtering conversations based on subject, status, or other attributes.\"\n          }\n        }\n      },\n      \"outputType\": {\n        \"outputType\": \"array\",\n        \"arrayPropertyValue\": \"conversations\"\n      }\n    },\n    {\n      \"title\": \"Create Conversation\",\n      \"description\": \"Initiate a new conversation, typically triggered by a contact. Requires specifying the contact and admin details.\",\n      \"type\": \"action\",\n      \"documentation\": \"https://developers.intercom.com/reference#create-a-conversation\",\n      \"endpointUrl\": \"/conversations\",\n      \"apiBaseUrl\": \"https://api.intercom.io\",\n      \"method\": \"POST\",\n      \"sampleResponse\": {\n        \"id\": \"conv_2\",\n        \"subject\": \"New Conversation\",\n        \"status\": \"open\"\n      },\n      \"inputSchema\": {\n        \"type\": \"object\",\n        \"description\": \"Input parameters for creating a conversation\",\n        \"properties\": {\n          \"contact_id\": {\n            \"type\": \"string\",\n            \"description\": \"The unique identifier of the contact initiating the conversation\"\n          },\n          \"admin_id\": {\n            \"type\": \"string\",\n            \"description\": \"The unique identifier of the admin initiating or responding\"\n          },\n          \"body\": {\n            \"type\": \"string\",\n            \"description\": \"The message content for the conversation\"\n          }\n        }\n      },\n      \"outputType\": {\n        \"outputType\": \"object\"\n      }\n    },\n    {\n      \"title\": \"Retrieve Conversation\",\n      \"description\": \"Get detailed information about a specific conversation by providing its unique identifier.\",\n      \"type\": \"action\",\n      \"documentation\": \"https://developers.intercom.com/reference#retrieve-a-conversation\",\n      \"endpointUrl\": \"/conversations/{id}\",\n      \"apiBaseUrl\": \"https://api.intercom.io\",\n      \"method\": \"GET\",\n      \"sampleResponse\": {\n        \"id\": \"conv_1\",\n        \"subject\": \"Issue with the product\",\n        \"status\": \"open\",\n        \"messages\": []\n      },\n      \"inputSchema\": {\n        \"type\": \"object\",\n        \"description\": \"Input parameter for retrieving a conversation\",\n        \"properties\": {\n          \"id\": {\n            \"type\": \"string\",\n            \"description\": \"The unique identifier of the conversation\"\n          }\n        }\n      },\n      \"outputType\": {\n        \"outputType\": \"object\"\n      }\n    },\n    {\n      \"title\": \"Reply to Conversation\",\n      \"description\": \"Send a reply to an existing conversation. This can be used by admins or contacts to respond.\",\n      \"type\": \"action\",\n      \"documentation\": \"https://developers.intercom.com/reference#reply-to-a-conversation\",\n      \"endpointUrl\": \"/conversations/{id}/reply\",\n      \"apiBaseUrl\": \"https://api.intercom.io\",\n      \"method\": \"POST\",\n      \"sampleResponse\": {\n        \"id\": \"reply_1\",\n        \"conversation_id\": \"conv_1\",\n        \"body\": \"Thank you for reaching out. How can we help?\"\n      },\n      \"inputSchema\": {\n        \"type\": \"object\",\n        \"description\": \"Input parameters for replying to a conversation\",\n        \"properties\": {\n          \"id\": {\n            \"type\": \"string\",\n            \"description\": \"The unique identifier of the conversation to reply to\"\n          },\n          \"admin_id\": {\n            \"type\": \"string\",\n            \"description\": \"The unique identifier of the admin replying (if applicable)\"\n          },\n          \"body\": {\n            \"type\": \"string\",\n            \"description\": \"The reply message content\"\n          }\n        }\n      },\n      \"outputType\": {\n        \"outputType\": \"object\"\n      }\n    },\n    {\n      \"title\": \"Send Message\",\n      \"description\": \"Send a targeted message (such as an in-app or email message) to a contact.\",\n      \"type\": \"action\",\n      \"documentation\": \"https://developers.intercom.com/reference#create-a-message\",\n      \"endpointUrl\": \"/messages\",\n      \"apiBaseUrl\": \"https://api.intercom.io\",\n      \"method\": \"POST\",\n      \"sampleResponse\": {\n        \"id\": \"msg_1\",\n        \"message_type\": \"inapp\",\n        \"body\": \"Hello, this is a message!\",\n        \"recipient\": {\n          \"id\": \"12345\"\n        }\n      },\n      \"inputSchema\": {\n        \"type\": \"object\",\n        \"description\": \"Input parameters for sending a message\",\n        \"properties\": {\n          \"recipient_id\": {\n            \"type\": \"string\",\n            \"description\": \"The unique identifier of the contact to whom the message is sent\"\n          },\n          \"message_type\": {\n            \"type\": \"string\",\n            \"description\": \"Type of the message (e.g., inapp, email)\"\n          },\n          \"body\": {\n            \"type\": \"string\",\n            \"description\": \"The content of the message\"\n          }\n        }\n      },\n      \"outputType\": {\n        \"outputType\": \"object\"\n      }\n    },\n    {\n      \"title\": \"Find Companies\",\n      \"description\": \"Retrieve a list of companies based on search criteria. Use the 'query' parameter to filter companies by name, company id, or other attributes.\",\n      \"type\": \"action\",\n      \"documentation\": \"https://developers.intercom.com/reference#list-all-companies\",\n      \"endpointUrl\": \"/companies\",\n      \"apiBaseUrl\": \"https://api.intercom.io\",\n      \"method\": \"GET\",\n      \"sampleResponse\": {\n        \"companies\": [\n          {\n            \"id\": \"comp_1\",\n            \"company_id\": \"A1B2C3\",\n            \"name\": \"Example Inc.\",\n            \"custom_attributes\": {}\n          }\n        ],\n        \"pages\": {\n          \"next\": \"cursor_for_next_page\"\n        }\n      },\n      \"inputSchema\": {\n        \"type\": \"object\",\n        \"description\": \"Input parameters for finding companies\",\n        \"properties\": {\n          \"query\": {\n            \"type\": \"string\",\n            \"description\": \"Search query for filtering companies by name, company_id, etc.\"\n          }\n        }\n      },\n      \"outputType\": {\n        \"outputType\": \"array\",\n        \"arrayPropertyValue\": \"companies\"\n      }\n    },\n    {\n      \"title\": \"Create Company\",\n      \"description\": \"Create a new company with basic details and custom attributes.\",\n      \"type\": \"action\",\n      \"documentation\": \"https://developers.intercom.com/reference#create-a-company\",\n      \"endpointUrl\": \"/companies\",\n      \"apiBaseUrl\": \"https://api.intercom.io\",\n      \"method\": \"POST\",\n      \"sampleResponse\": {\n        \"id\": \"comp_2\",\n        \"company_id\": \"XYZ789\",\n        \"name\": \"NewCo LLC\",\n        \"custom_attributes\": {}\n      },\n      \"inputSchema\": {\n        \"type\": \"object\",\n        \"description\": \"Input parameters for creating a company\",\n        \"properties\": {\n          \"company_id\": {\n            \"type\": \"string\",\n            \"description\": \"A unique identifier for the company\"\n          },\n          \"name\": {\n            \"type\": \"string\",\n            \"description\": \"The name of the company\"\n          },\n          \"custom_attributes\": {\n            \"type\": \"object\",\n            \"description\": \"A JSON object representing custom attributes for the company\"\n          }\n        }\n      },\n      \"outputType\": {\n        \"outputType\": \"object\"\n      }\n    },\n    {\n      \"title\": \"Update Company\",\n      \"description\": \"Update the details of an existing company by providing its unique identifier and the fields to update.\",\n      \"type\": \"action\",\n      \"documentation\": \"https://developers.intercom.com/reference#update-a-company\",\n      \"endpointUrl\": \"/companies/{id}\",\n      \"apiBaseUrl\": \"https://api.intercom.io\",\n      \"method\": \"PATCH\",\n      \"sampleResponse\": {\n        \"id\": \"comp_1\",\n        \"company_id\": \"A1B2C3\",\n        \"name\": \"Example Inc. Updated\",\n        \"custom_attributes\": {}\n      },\n      \"inputSchema\": {\n        \"type\": \"object\",\n        \"description\": \"Input parameters for updating a company\",\n        \"properties\": {\n          \"id\": {\n            \"type\": \"string\",\n            \"description\": \"The unique identifier of the company\"\n          },\n          \"name\": {\n            \"type\": \"string\",\n            \"description\": \"Updated name of the company\"\n          },\n          \"custom_attributes\": {\n            \"type\": \"object\",\n            \"description\": \"Updated custom attributes for the company\"\n          }\n        }\n      },\n      \"outputType\": {\n        \"outputType\": \"object\"\n      }\n    },\n    {\n      \"title\": \"Retrieve Company\",\n      \"description\": \"Get detailed information about a specific company using its unique identifier.\",\n      \"type\": \"action\",\n      \"documentation\": \"https://developers.intercom.com/reference#retrieve-a-company\",\n      \"endpointUrl\": \"/companies/{id}\",\n      \"apiBaseUrl\": \"https://api.intercom.io\",\n      \"method\": \"GET\",\n      \"sampleResponse\": {\n        \"id\": \"comp_1\",\n        \"company_id\": \"A1B2C3\",\n        \"name\": \"Example Inc.\",\n        \"custom_attributes\": {}\n      },\n      \"inputSchema\": {\n        \"type\": \"object\",\n        \"description\": \"Input parameter for retrieving a company's details\",\n        \"properties\": {\n          \"id\": {\n            \"type\": \"string\",\n            \"description\": \"The unique identifier of the company\"\n          }\n        }\n      },\n      \"outputType\": {\n        \"outputType\": \"object\"\n      }\n    }\n  ],\n  \"authentication\": {\n    \"type\": \"oauth2\",\n    \"authUrl\": \"https://app.intercom.com/oauth\",\n    \"tokenUrl\": \"https://api.intercom.io/auth/eagle/token\",\n    \"profileInfoUrl\": \"https://api.intercom.io/me\"\n  },\n  \"serviceJson\": {\n    \"name\": \"appmixer.intercom\",\n    \"label\": \"Intercom\",\n    \"category\": \"applications\",\n    \"description\": \"Intercom Connector for managing customer messaging, contacts, conversations, companies, and sending messages.\",\n    \"version\": \"1.0.0\",\n    \"icon\": \"https://example.com/intercom.svg\"\n  }\n}"
    }
]