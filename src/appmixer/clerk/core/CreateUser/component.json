{
    "name": "appmixer.clerk.core.CreateUser",
    "author": "Appmixer <info@appmixer.com>",
    "description": "Creates a new user. Your user management settings determine how you should setup your user model. Any email address and phone number created using this method will be marked as verified.",
    "version": "1.0.0",
    "auth": {
        "service": "appmixer:clerk"
    },
    "quota": {
        "manager": "appmixer:clerk",
        "resources": "users.create"
    },
    "inPorts": [
        {
            "name": "in",
            "schema": {
                "type": "object",
                "properties": {
                    "externalId": {
                        "type": "string"
                    },
                    "firstName": {
                        "type": "string"
                    },
                    "lastName": {
                        "type": "string"
                    },
                    "emailAddresses": {
                        "type": "string"
                    },
                    "phoneNumbers": {
                        "type": "string"
                    },
                    "web3Wallets": {
                        "type": "string"
                    },
                    "username": {
                        "type": "string"
                    },
                    "password": {
                        "type": "string"
                    },
                    "passwordDigest": {
                        "type": "string"
                    },
                    "deleteSelfEnabled": {
                        "type": "boolean"
                    }
                }
            },
            "inspector": {
                "inputs": {
                    "externalId": {
                        "type": "text",
                        "label": "External ID",
                        "tooltip": "The ID of the user as used in your external systems or your previous authentication solution. Must be unique across your instance.",
                        "index": 1
                    },
                    "firstName": {
                        "type": "text",
                        "label": "First Name",
                        "tooltip": "The first name to assign to the user.",
                        "index": 2
                    },
                    "lastName": {
                        "type": "text",
                        "label": "Last Name", 
                        "tooltip": "The last name to assign to the user.",
                        "index": 3
                    },
                    "emailAddresses": {
                        "type": "textarea",
                        "label": "Email Addresses",
                        "tooltip": "Email addresses to add to the user (one per line or comma separated). Must be unique across your instance. The first email address will be set as the user's primary email address.",
                        "index": 4
                    },
                    "phoneNumbers": {
                        "type": "textarea",
                        "label": "Phone Numbers",
                        "tooltip": "Phone numbers to add to the user (one per line or comma separated). Must be unique across your instance. The first phone number will be set as the user's primary phone number.",
                        "index": 5
                    },
                    "web3Wallets": {
                        "type": "textarea",
                        "label": "Web3 Wallets",
                        "tooltip": "Web3 wallets to add to the user (one per line or comma separated). Must be unique across your instance. The first wallet will be set as the user's primary wallet.",
                        "index": 6
                    },
                    "username": {
                        "type": "text",
                        "label": "Username",
                        "tooltip": "The username to give to the user. It must be unique across your instance.",
                        "index": 7
                    },
                    "password": {
                        "type": "text",
                        "label": "Password",
                        "tooltip": "The plaintext password to give the user. Must be at least 8 characters long, and can not be in any list of hacked passwords.",
                        "index": 8
                    },
                    "passwordDigest": {
                        "type": "text",
                        "label": "Password Digest",
                        "tooltip": "In case you already have the password digests and not the passwords, you can use them for the newly created user via this property.",
                        "index": 9
                    },
                    "deleteSelfEnabled": {
                        "type": "toggle",
                        "label": "Delete Self Enabled",
                        "defaultValue": false,
                        "tooltip": "If enabled, user can delete themselves via FAPI.",
                        "index": 17
                    }
                }
            }
        }
    ],
    "outPorts": [
        {
            "name": "out",
            "options": [
                {
                    "label": "User ID",
                    "value": "id",
                    "schema": {
                        "type": "string"
                    }
                },
                {
                    "label": "External ID",
                    "value": "external_id",
                    "schema": {
                        "type": "string"
                    }
                },
                {
                    "label": "First Name",
                    "value": "first_name",
                    "schema": {
                        "type": "string"
                    }
                },
                {
                    "label": "Last Name",
                    "value": "last_name",
                    "schema": {
                        "type": "string"
                    }
                },
                {
                    "label": "Username",
                    "value": "username",
                    "schema": {
                        "type": "string"
                    }
                },
                {
                    "label": "Email Addresses",
                    "value": "email_addresses",
                    "schema": {
                        "type": "array"
                    }
                },
                {
                    "label": "Phone Numbers",
                    "value": "phone_numbers",
                    "schema": {
                        "type": "array"
                    }
                },
                {
                    "label": "Web3 Wallets",
                    "value": "web3_wallets",
                    "schema": {
                        "type": "array"
                    }
                },
                {
                    "label": "Public Metadata",
                    "value": "public_metadata",
                    "schema": {
                        "type": "object"
                    }
                },
                {
                    "label": "Private Metadata", 
                    "value": "private_metadata",
                    "schema": {
                        "type": "object"
                    }
                },
                {
                    "label": "Unsafe Metadata",
                    "value": "unsafe_metadata",
                    "schema": {
                        "type": "object"
                    }
                },
                {
                    "label": "Created At",
                    "value": "created_at",
                    "schema": {
                        "type": "number"
                    }
                },
                {
                    "label": "Updated At",
                    "value": "updated_at", 
                    "schema": {
                        "type": "number"
                    }
                },
                {
                    "label": "Profile Image URL",
                    "value": "profile_image_url",
                    "schema": {
                        "type": "string"
                    }
                },
                {
                    "label": "Primary Email Address ID",
                    "value": "primary_email_address_id",
                    "schema": {
                        "type": "string"
                    }
                },
                {
                    "label": "Primary Phone Number ID",
                    "value": "primary_phone_number_id",
                    "schema": {
                        "type": "string"
                    }
                },
                {
                    "label": "Primary Web3 Wallet ID",
                    "value": "primary_web3_wallet_id",
                    "schema": {
                        "type": "string"
                    }
                }
            ]
        }
    ],
    "icon": "data:image/svg+xml;base64,PHN2ZyByb2xlPSJpbWciIHZpZXdCb3g9IjAgMCAyNCAyNCIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiBpZD0iQ2xlcmstLVN0cmVhbWxpbmUtU2ltcGxlLUljb25zIiBoZWlnaHQ9IjI0IiB3aWR0aD0iMjQiPgogIDxkZXNjPgogICAgQ2xlcmsgU3RyZWFtbGluZSBJY29uOiBodHRwczovL3N0cmVhbWxpbmVocS5jb20KICA8L2Rlc2M+CiAgPHRpdGxlPkNsZXJrPC90aXRsZT4KICA8cGF0aCBkPSJtMjEuNDcgMjAuODI5IC0yLjg4MSAtMi44ODFhMC41NzIgMC41NzIgMCAwIDAgLTAuNyAtMC4wODQgNi44NTQgNi44NTQgMCAwIDEgLTcuMDgxIDAgMC41NzYgMC41NzYgMCAwIDAgLTAuNyAwLjA4NGwtMi44ODEgMi44ODFhMC41NzYgMC41NzYgMCAwIDAgLTAuMTAzIDAuNjkgMC41NyAwLjU3IDAgMCAwIDAuMTY2IDAuMTg2IDEyIDEyIDAgMCAwIDE0LjExMyAwIDAuNTggMC41OCAwIDAgMCAwLjIzOSAtMC40MjMgMC41NzYgMC41NzYgMCAwIDAgLTAuMTcyIC0wLjQ1M1ptMC4wMDIgLTE3LjY2OCAtMi44OCAyLjg4YTAuNTY5IDAuNTY5IDAgMCAxIC0wLjcwMSAwLjA4NEE2Ljg1NyA2Ljg1NyAwIDAgMCA4LjcyNCA4LjA4YTYuODYyIDYuODYyIDAgMCAwIC0xLjIyMiAzLjY5MiA2Ljg2IDYuODYgMCAwIDAgMC45NzggMy43NjQgMC41NzMgMC41NzMgMCAwIDEgLTAuMDgzIDAuNjk5bC0yLjg4MSAyLjg4YTAuNTY3IDAuNTY3IDAgMCAxIC0wLjg2NCAtMC4wNjNBMTEuOTkzIDExLjk5MyAwIDAgMSA2Ljc3MSAyLjdhMTEuOTkgMTEuOTkgMCAwIDEgMTQuNjM3IC0wLjQwNSAwLjU2NiAwLjU2NiAwIDAgMSAwLjIzMiAwLjQxOCAwLjU3IDAuNTcgMCAwIDEgLTAuMTY4IDAuNDQ4Wm0tNy4xMTggMTIuMjYxYTMuNDI3IDMuNDI3IDAgMSAwIDAgLTYuODU0IDMuNDI3IDMuNDI3IDAgMCAwIDAgNi44NTRaIiBmaWxsPSIjMDAwMDAwIiBzdHJva2Utd2lkdGg9IjEiPjwvcGF0aD4KPC9zdmc+"
}
