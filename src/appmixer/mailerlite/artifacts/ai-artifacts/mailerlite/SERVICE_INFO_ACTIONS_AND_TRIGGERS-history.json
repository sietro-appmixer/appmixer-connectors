[
    {
        "role": "user",
        "content": "# Mailerlite Connector - Context and Planning\n\n## Service Overview\nMailerlite is an email marketing platform that provides tools for creating, sending, and managing email campaigns. Key features include subscriber management, campaign creation, automation workflows, landing pages, and detailed analytics.\n\n## API Documentation\nOfficial API Documentation: https://developers.mailerlite.com/docs/#mailerlite-api\n\n## Authentication Method\n**Type**: API Key Authentication\n**Method**: Bearer Token in Authorization header\n**Documentation**: https://developers.mailerlite.com/docs/#authentication\n\n### How to obtain API Key:\n1. Log in to your Mailerlite account\n2. Navigate to Integrations > Developer API\n3. Generate a new API token\n4. Copy the generated token for use in the connector\n\n**Authentication Format**: \n- Header: `Authorization: Bearer {api_token}`\n- The API token is used as a Bearer token in the Authorization header\n\n## Planned Components\n\nBased on the Mailerlite API documentation and core email marketing functionality, the following components should be implemented:\n\n### Subscriber Management\n1. **CreateSubscriber** - Add a new subscriber to a group\n   - Endpoint: POST /api/subscribers\n   - Purpose: Add subscribers to mailing lists\n\n2. **UpdateSubscriber** - Update existing subscriber information\n   - Endpoint: PUT /api/subscribers/{subscriber_id}\n   - Purpose: Modify subscriber details and preferences\n\n3. **DeleteSubscriber** - Remove a subscriber\n   - Endpoint: DELETE /api/subscribers/{subscriber_id}\n   - Purpose: Remove subscribers from the system\n\n4. **GetSubscriber** - Retrieve subscriber details\n   - Endpoint: GET /api/subscribers/{subscriber_id}\n   - Purpose: Fetch individual subscriber information\n\n5. **ListSubscribers** - Get list of subscribers\n   - Endpoint: GET /api/subscribers\n   - Purpose: Retrieve subscribers with filtering options\n\n### Group Management\n6. **CreateGroup** - Create a new subscriber group\n   - Endpoint: POST /api/groups\n   - Purpose: Organize subscribers into groups/segments\n\n7. **ListGroups** - Get all groups\n   - Endpoint: GET /api/groups\n   - Purpose: Retrieve available subscriber groups\n\n8. **UpdateGroup** - Update group information\n   - Endpoint: PUT /api/groups/{group_id}\n   - Purpose: Modify group details\n\n9. **DeleteGroup** - Remove a group\n   - Endpoint: DELETE /api/groups/{group_id}\n   - Purpose: Delete subscriber groups\n\n### Campaign Management\n10. **CreateCampaign** - Create a new email campaign\n    - Endpoint: POST /api/campaigns\n    - Purpose: Create email marketing campaigns\n\n11. **ListCampaigns** - Get all campaigns\n    - Endpoint: GET /api/campaigns\n    - Purpose: Retrieve campaign list with status information\n\n12. **GetCampaign** - Get campaign details\n    - Endpoint: GET /api/campaigns/{campaign_id}\n    - Purpose: Fetch specific campaign information\n\n13. **UpdateCampaign** - Update campaign details\n    - Endpoint: PUT /api/campaigns/{campaign_id}\n    - Purpose: Modify campaign settings\n\n14. **DeleteCampaign** - Remove a campaign\n    - Endpoint: DELETE /api/campaigns/{campaign_id}\n    - Purpose: Delete campaigns\n\n15. **SendCampaign** - Send/schedule a campaign\n    - Endpoint: POST /api/campaigns/{campaign_id}/actions/send\n    - Purpose: Execute email campaign delivery\n\n### Analytics and Reporting\n16. **GetCampaignStats** - Retrieve campaign statistics\n    - Endpoint: GET /api/campaigns/{campaign_id}/reports\n    - Purpose: Get campaign performance metrics\n\n17. **GetSubscriberActivity** - Get subscriber activity\n    - Endpoint: GET /api/subscribers/{subscriber_id}/activities\n    - Purpose: Track subscriber engagement\n\n### Fields Management\n18. **ListFields** - Get custom fields\n    - Endpoint: GET /api/fields\n    - Purpose: Retrieve available subscriber fields\n\n19. **CreateField** - Create custom field\n    - Endpoint: POST /api/fields\n    - Purpose: Add custom subscriber data fields\n\n### Automation (if API supports)\n20. **ListAutomations** - Get automation workflows\n    - Endpoint: GET /api/automations\n    - Purpose: Retrieve available automation workflows\n\n## Priority Implementation Order\n1. **Phase 1 (Core)**: CreateSubscriber, ListSubscribers, GetSubscriber, ListGroups\n2. **Phase 2 (Campaigns)**: CreateCampaign, ListCampaigns, SendCampaign, GetCampaignStats\n3. **Phase 3 (Management)**: UpdateSubscriber, DeleteSubscriber, CreateGroup, UpdateGroup\n4. **Phase 4 (Advanced)**: DeleteCampaign, UpdateCampaign, ListFields, CreateField\n\n## API Rate Limits\n- Standard rate limits apply (to be verified during implementation)\n- Implement appropriate quota management\n\n## Special Considerations\n- Handle email validation properly\n- Support for custom fields and subscriber metadata\n- Campaign status management (draft, sent, scheduled)\n- Proper error handling for invalid email addresses\n- Support for subscriber preferences and consent management\n"
    },
    {
        "role": "system",
        "content": "I am planning to build an integration component for mailerlite. Could you provide me with a list and description of the most commonly used and essential API endpoints for this service? Specifically, I am interested in endpoints related to core operations. For each endpoint, please include the HTTP method (GET, POST, PUT, PATCH, DELETE), the endpoint URL or path, link to documentation, a brief description of its purpose, provide list of inputs. If possible, also mention any authentication requirements."
    },
    {
        "role": "user",
        "content": "Create the service json as well, (serviceJson property)"
    },
    {
        "role": "user",
        "content": "ignore input parameters for pagination, it could be for example page, offset, limit, etc."
    },
    {
        "role": "user",
        "content": "Action naming conventions: Try to avoid naming with \"List\", such as \"List Users\", \"List Contacts\" etc. Use \"Find\" instead. For example \"Find Users\", \"FInd Contacts\". These actions have usually input parameters for search, such as \"query\", \"search\" or similar."
    },
    {
        "role": "user",
        "content": "Provide information about authentication, include type of authentication, and other properties. Provide information about authentication endpoint URL, token URL for managing access token - for obtaining access token and refreshing access token. Provide information about profile info URL, where is possible to get information about current user. It is used for getting user profile information, such as email, name, etc. (authentication property)"
    },
    {
        "role": "assistant",
        "content": "{\n  \"actions\": [\n    {\n      \"title\": \"CreateSubscriber\",\n      \"description\": \"Add a new subscriber to a mailing list. Requires subscriber email, name, and optional group IDs.\",\n      \"type\": \"action\",\n      \"documentation\": \"https://developers.mailerlite.com/docs/#subscribers\",\n      \"endpointUrl\": \"/api/subscribers\",\n      \"apiBaseUrl\": \"https://api.mailerlite.com\",\n      \"method\": \"POST\",\n      \"sampleResponse\": {\n        \"id\": \"subscriber_id\",\n        \"email\": \"example@mail.com\",\n        \"name\": \"John Doe\",\n        \"groups\": [\n          {\n            \"id\": \"group_id\",\n            \"name\": \"Group Name\"\n          }\n        ]\n      },\n      \"inputSchema\": {\n        \"type\": \"object\",\n        \"description\": \"Input parameters for creating a subscriber\",\n        \"properties\": {\n          \"email\": {\n            \"type\": \"string\",\n            \"description\": \"Email address of the subscriber; must be unique and valid.\"\n          },\n          \"name\": {\n            \"type\": \"string\",\n            \"description\": \"Name of the subscriber.\"\n          },\n          \"groups\": {\n            \"type\": \"array\",\n            \"description\": \"Array of group IDs to which the subscriber will be added.\",\n            \"items\": {\n              \"type\": \"string\",\n              \"description\": \"Group ID\"\n            }\n          }\n        },\n        \"required\": [\n          \"email\"\n        ]\n      },\n      \"outputType\": {\n        \"outputType\": \"object\"\n      }\n    },\n    {\n      \"title\": \"FindSubscribers\",\n      \"description\": \"Retrieve a list of subscribers based on search criteria. Use query parameters to filter by email or name.\",\n      \"type\": \"action\",\n      \"documentation\": \"https://developers.mailerlite.com/docs/#subscribers\",\n      \"endpointUrl\": \"/api/subscribers\",\n      \"apiBaseUrl\": \"https://api.mailerlite.com\",\n      \"method\": \"GET\",\n      \"sampleResponse\": {\n        \"data\": [\n          {\n            \"id\": \"subscriber_id\",\n            \"email\": \"example@mail.com\",\n            \"name\": \"John Doe\"\n          }\n        ]\n      },\n      \"inputSchema\": {\n        \"type\": \"object\",\n        \"description\": \"Input parameters for finding subscribers\",\n        \"properties\": {\n          \"query\": {\n            \"type\": \"string\",\n            \"description\": \"Search term to filter subscribers by email or name.\"\n          }\n        }\n      },\n      \"outputType\": {\n        \"outputType\": \"array\",\n        \"arrayPropertyValue\": \"data\"\n      }\n    },\n    {\n      \"title\": \"GetSubscriber\",\n      \"description\": \"Retrieve detailed information of a specific subscriber using their subscriber ID.\",\n      \"type\": \"action\",\n      \"documentation\": \"https://developers.mailerlite.com/docs/#subscribers\",\n      \"endpointUrl\": \"/api/subscribers/{subscriber_id}\",\n      \"apiBaseUrl\": \"https://api.mailerlite.com\",\n      \"method\": \"GET\",\n      \"sampleResponse\": {\n        \"id\": \"subscriber_id\",\n        \"email\": \"example@mail.com\",\n        \"name\": \"John Doe\",\n        \"groups\": [\n          {\n            \"id\": \"group_id\",\n            \"name\": \"Group Name\"\n          }\n        ]\n      },\n      \"inputSchema\": {\n        \"type\": \"object\",\n        \"description\": \"Input parameter for retrieving a subscriber's details\",\n        \"properties\": {\n          \"subscriber_id\": {\n            \"type\": \"string\",\n            \"description\": \"The unique identifier of the subscriber.\"\n          }\n        },\n        \"required\": [\n          \"subscriber_id\"\n        ]\n      },\n      \"outputType\": {\n        \"outputType\": \"object\"\n      }\n    },\n    {\n      \"title\": \"FindGroups\",\n      \"description\": \"Retrieve all available subscriber groups. Use search criteria to filter groups if needed.\",\n      \"type\": \"action\",\n      \"documentation\": \"https://developers.mailerlite.com/docs/#groups\",\n      \"endpointUrl\": \"/api/groups\",\n      \"apiBaseUrl\": \"https://api.mailerlite.com\",\n      \"method\": \"GET\",\n      \"sampleResponse\": {\n        \"data\": [\n          {\n            \"id\": \"group_id\",\n            \"name\": \"Newsletter Subscribers\"\n          }\n        ]\n      },\n      \"inputSchema\": {\n        \"type\": \"object\",\n        \"description\": \"Input parameters for finding groups\",\n        \"properties\": {\n          \"query\": {\n            \"type\": \"string\",\n            \"description\": \"Search term to filter groups by name.\"\n          }\n        }\n      },\n      \"outputType\": {\n        \"outputType\": \"array\",\n        \"arrayPropertyValue\": \"data\"\n      }\n    },\n    {\n      \"title\": \"CreateCampaign\",\n      \"description\": \"Create a new email campaign with specified content and settings.\",\n      \"type\": \"action\",\n      \"documentation\": \"https://developers.mailerlite.com/docs/#campaigns-create\",\n      \"endpointUrl\": \"/api/campaigns\",\n      \"apiBaseUrl\": \"https://api.mailerlite.com\",\n      \"method\": \"POST\",\n      \"sampleResponse\": {\n        \"id\": \"campaign_id\",\n        \"name\": \"Campaign Name\",\n        \"subject\": \"Email Subject\",\n        \"status\": \"draft\"\n      },\n      \"inputSchema\": {\n        \"type\": \"object\",\n        \"description\": \"Input parameters for creating a campaign\",\n        \"properties\": {\n          \"name\": {\n            \"type\": \"string\",\n            \"description\": \"Name of the campaign.\"\n          },\n          \"subject\": {\n            \"type\": \"string\",\n            \"description\": \"Subject line of the email campaign.\"\n          },\n          \"content\": {\n            \"type\": \"string\",\n            \"description\": \"HTML or plain text content of the campaign.\"\n          },\n          \"groups\": {\n            \"type\": \"array\",\n            \"description\": \"Array of group IDs to which the campaign will be sent.\",\n            \"items\": {\n              \"type\": \"string\",\n              \"description\": \"Group ID\"\n            }\n          }\n        },\n        \"required\": [\n          \"name\",\n          \"subject\",\n          \"content\"\n        ]\n      },\n      \"outputType\": {\n        \"outputType\": \"object\"\n      }\n    },\n    {\n      \"title\": \"FindCampaigns\",\n      \"description\": \"Retrieve a list of email campaigns optionally filtered by search criteria such as name or status.\",\n      \"type\": \"action\",\n      \"documentation\": \"https://developers.mailerlite.com/docs/#campaigns-get\",\n      \"endpointUrl\": \"/api/campaigns\",\n      \"apiBaseUrl\": \"https://api.mailerlite.com\",\n      \"method\": \"GET\",\n      \"sampleResponse\": {\n        \"data\": [\n          {\n            \"id\": \"campaign_id\",\n            \"name\": \"Campaign Name\",\n            \"subject\": \"Email Subject\",\n            \"status\": \"draft\"\n          }\n        ]\n      },\n      \"inputSchema\": {\n        \"type\": \"object\",\n        \"description\": \"Input parameters for finding campaigns\",\n        \"properties\": {\n          \"query\": {\n            \"type\": \"string\",\n            \"description\": \"Search term to filter campaigns by name or subject.\"\n          },\n          \"status\": {\n            \"type\": \"string\",\n            \"description\": \"Filter campaigns by status (e.g., draft, sent, scheduled).\"\n          }\n        }\n      },\n      \"outputType\": {\n        \"outputType\": \"array\",\n        \"arrayPropertyValue\": \"data\"\n      }\n    },\n    {\n      \"title\": \"SendCampaign\",\n      \"description\": \"Send or schedule an email campaign for delivery.\",\n      \"type\": \"action\",\n      \"documentation\": \"https://developers.mailerlite.com/docs/#campaigns-send\",\n      \"endpointUrl\": \"/api/campaigns/{campaign_id}/actions/send\",\n      \"apiBaseUrl\": \"https://api.mailerlite.com\",\n      \"method\": \"POST\",\n      \"sampleResponse\": {\n        \"campaign_id\": \"campaign_id\",\n        \"status\": \"scheduled\"\n      },\n      \"inputSchema\": {\n        \"type\": \"object\",\n        \"description\": \"Input parameter to send a campaign\",\n        \"properties\": {\n          \"campaign_id\": {\n            \"type\": \"string\",\n            \"description\": \"The unique identifier of the campaign to be sent.\"\n          }\n        },\n        \"required\": [\n          \"campaign_id\"\n        ]\n      },\n      \"outputType\": {\n        \"outputType\": \"object\"\n      }\n    },\n    {\n      \"title\": \"GetCampaignStats\",\n      \"description\": \"Retrieve performance metrics and statistics for a specific email campaign.\",\n      \"type\": \"action\",\n      \"documentation\": \"https://developers.mailerlite.com/docs/#campaigns-reports\",\n      \"endpointUrl\": \"/api/campaigns/{campaign_id}/reports\",\n      \"apiBaseUrl\": \"https://api.mailerlite.com\",\n      \"method\": \"GET\",\n      \"sampleResponse\": {\n        \"campaign_id\": \"campaign_id\",\n        \"opens\": 150,\n        \"clicks\": 45,\n        \"bounces\": 2\n      },\n      \"inputSchema\": {\n        \"type\": \"object\",\n        \"description\": \"Input parameter to get campaign statistics\",\n        \"properties\": {\n          \"campaign_id\": {\n            \"type\": \"string\",\n            \"description\": \"The unique identifier of the campaign.\"\n          }\n        },\n        \"required\": [\n          \"campaign_id\"\n        ]\n      },\n      \"outputType\": {\n        \"outputType\": \"object\"\n      }\n    }\n  ],\n  \"authentication\": {\n    \"type\": \"apiKey\",\n    \"authUrl\": \"https://developers.mailerlite.com/docs/#authentication\",\n    \"tokenUrl\": \"https://developers.mailerlite.com/docs/#authentication\",\n    \"profileInfoUrl\": \"https://api.mailerlite.com/api/subscribers/me\"\n  },\n  \"serviceJson\": {\n    \"name\": \"appmixer.mailerlite\",\n    \"label\": \"Mailerlite\",\n    \"category\": \"applications\",\n    \"description\": \"Integration with Mailerlite, an email marketing platform offering subscriber management, campaign creation, and analytics.\",\n    \"version\": \"1.0.0\",\n    \"icon\": \"https://example.com/mailerlite-icon.svg\"\n  }\n}"
    }
]