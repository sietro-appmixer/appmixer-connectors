[
    {
        "role": "user",
        "content": "# Replicate Connector - Context and Planning\n\n## Service Overview\n\nReplicate is a platform for running machine learning models in the cloud. It provides APIs to run various AI models including image generation, text processing, speech synthesis, and more. Key features include model predictions, training custom models, and accessing a marketplace of pre-trained models. The service is commonly used for AI/ML workflows and integrations.\n\n## Authentication Method\n\n**API Key Authentication**\n- All API requests must include a valid API token in the `Authorization` request header\n- The token must be prefixed by \"Bearer\", followed by a space and the token value\n- Example: `Authorization: Bearer r8_Hw***********************************`\n- Users can find their tokens at: https://replicate.com/account/api-tokens\n\n## API Documentation\n\nOfficial API Documentation: https://replicate.com/docs/reference/http#authentication\n\n## Base URL\n`https://api.replicate.com/v1`\n\n## Rate Limits\n- Create prediction: 600 requests per minute\n- All other endpoints: 3000 requests per minute\n\n## Key API Endpoints Identified\n\n### Predictions\n- **POST** `/predictions` - Create a prediction\n- **GET** `/predictions/{prediction_id}` - Get a prediction\n- **GET** `/predictions` - List predictions\n- **POST** `/predictions/{prediction_id}/cancel` - Cancel a prediction\n\n### Models\n- **POST** `/models` - Create a model\n- **GET** `/models/{model_owner}/{model_name}` - Get a model\n- **GET** `/models` - List public models\n- **QUERY** `/models` - Search public models\n- **DELETE** `/models/{model_owner}/{model_name}` - Delete a model\n- **GET** `/models/{model_owner}/{model_name}/examples` - List examples for a model\n- **POST** `/models/{model_owner}/{model_name}/predictions` - Create a prediction using an official model\n\n### Model Versions\n- **GET** `/models/{model_owner}/{model_name}/versions/{version_id}` - Get a model version\n- **GET** `/models/{model_owner}/{model_name}/versions` - List model versions\n- **DELETE** `/models/{model_owner}/{model_name}/versions/{version_id}` - Delete a model version\n\n### Collections\n- **GET** `/collections/{collection_slug}` - Get a collection of models\n- **GET** `/collections` - List collections of models\n\n### Deployments\n- **POST** `/deployments` - Create a deployment\n- **GET** `/deployments/{deployment_owner}/{deployment_name}` - Get a deployment\n- **GET** `/deployments` - List deployments\n- **PATCH** `/deployments/{deployment_owner}/{deployment_name}` - Update a deployment\n- **DELETE** `/deployments/{deployment_owner}/{deployment_name}` - Delete a deployment\n- **POST** `/deployments/{deployment_owner}/{deployment_name}/predictions` - Create a prediction using a deployment\n\n### Files\n- **GET** `/files` - List files\n- **POST** `/files` - Create a file\n- **DELETE** `/files/{file_id}` - Delete a file\n- **GET** `/files/{file_id}` - Get a file\n- **GET** `/files/{file_id}/download` - Download a file\n\n### Trainings\n- **POST** `/models/{model_owner}/{model_name}/versions/{version_id}/trainings` - Create a training\n- **GET** `/trainings/{training_id}` - Get a training\n- **GET** `/trainings` - List trainings\n- **POST** `/trainings/{training_id}/cancel` - Cancel a training\n\n### Hardware & Account\n- **GET** `/hardware` - List available hardware for models\n- **GET** `/account` - Get the authenticated account\n\n## Planned Components\n\n### Essential Components for Replicate Connector:\n\n1. **CreatePrediction** - Create a new prediction with model version and inputs\n   - Most important component for running ML models\n   - Supports both specific version IDs and official models\n   - Handles input validation and file uploads\n\n2. **GetPrediction** - Get the status and results of a prediction\n   - Monitor prediction progress and retrieve outputs\n   - Essential for checking completion status\n\n3. **ListPredictions** - List all predictions for the authenticated user\n   - View prediction history with pagination support\n   - Filter by creation date\n\n4. **CancelPrediction** - Cancel a running prediction\n   - Stop predictions that are taking too long or no longer needed\n\n5. **ListModels** - List available public models\n   - Browse available models for predictions\n   - Discover new models to use\n\n6. **GetModel** - Get detailed information about a specific model\n   - View model details, input/output schemas, and examples\n   - Essential for understanding model capabilities\n\n7. **SearchModels** - Search for models by query\n   - Find specific models by keywords or functionality\n\n8. **ListCollections** - List model collections\n   - Browse curated collections of models by category\n\n9. **GetCollection** - Get models in a specific collection\n   - Access grouped models by use case (e.g., super-resolution, image-restoration)\n\n10. **ListFiles** - List uploaded files\n    - Manage user's uploaded files for use in predictions\n\n11. **CreateFile** - Upload a file for use in predictions\n    - Upload files to be used as inputs for models\n\n12. **GetAccount** - Get authenticated account information\n    - Retrieve user/organization details and verify authentication\n\n### Advanced Components (Optional for initial release):\n\n13. **CreateModel** - Create a new model (for model creators)\n14. **ListModelVersions** - List versions of a specific model\n15. **GetModelVersion** - Get details of a specific model version\n16. **CreateTraining** - Start training a custom model\n17. **GetTraining** - Get training status and results\n18. **ListTrainings** - List all trainings\n19. **CreateDeployment** - Create a deployment for faster inference\n20. **ListDeployments** - List user's deployments\n\n## Component Priority\n\n**Phase 1 (Essential - Core Functionality):**\n- CreatePrediction\n- GetPrediction\n- ListPredictions\n- CancelPrediction\n- GetModel\n- ListModels\n\n**Phase 2 (Important - Enhanced Functionality):**\n- SearchModels\n- ListCollections\n- GetCollection\n- CreateFile\n- ListFiles\n- GetAccount\n\n**Phase 3 (Advanced - Power User Features):**\n- Model management and training components\n- Deployment management components\n\n## Technical Notes\n\n- All endpoints use Bearer token authentication\n- API supports both synchronous and asynchronous prediction creation\n- File inputs can be provided as HTTP URLs or data URLs\n- Webhook support available for real-time updates\n- Predictions have states: starting, processing, succeeded, failed, canceled\n- Input/output schemas are dynamic based on the specific model being used\n- Rate limiting requires careful handling in component implementations"
    },
    {
        "role": "system",
        "content": "I am planning to build an integration component for replicate. Could you provide me with a list and description of the most commonly used and essential API endpoints for this service? Specifically, I am interested in endpoints related to core operations. For each endpoint, please include the HTTP method (GET, POST, PUT, PATCH, DELETE), the endpoint URL or path, link to documentation, a brief description of its purpose, provide list of inputs. If possible, also mention any authentication requirements."
    },
    {
        "role": "user",
        "content": "Create the service json as well, (serviceJson property)"
    },
    {
        "role": "user",
        "content": "ignore input parameters for pagination, it could be for example page, offset, limit, etc."
    },
    {
        "role": "user",
        "content": "Action naming conventions: Try to avoid naming with \"List\", such as \"List Users\", \"List Contacts\" etc. Use \"Find\" instead. For example \"Find Users\", \"FInd Contacts\". These actions have usually input parameters for search, such as \"query\", \"search\" or similar."
    },
    {
        "role": "user",
        "content": "Provide information about authentication, include type of authentication, and other properties. Provide information about authentication endpoint URL, token URL for managing access token - for obtaining access token and refreshing access token. Provide information about profile info URL, where is possible to get information about current user. It is used for getting user profile information, such as email, name, etc. (authentication property)"
    },
    {
        "role": "assistant",
        "content": "{\n  \"actions\": [\n    {\n      \"title\": \"Create Prediction\",\n      \"description\": \"Creates a new machine learning prediction using a specified model version or official model.\",\n      \"type\": \"action\",\n      \"documentation\": \"https://replicate.com/docs/reference/http#predictions\",\n      \"endpointUrl\": \"https://api.replicate.com/v1/predictions\",\n      \"apiBaseUrl\": \"https://api.replicate.com/v1\",\n      \"method\": \"POST\",\n      \"sampleResponse\": {\n        \"id\": \"pred_123\",\n        \"status\": \"processing\",\n        \"output\": null,\n        \"version\": \"abc123\"\n      },\n      \"inputSchema\": {\n        \"type\": \"object\",\n        \"description\": \"Input parameters for creating a prediction.\",\n        \"properties\": {\n          \"version\": {\n            \"type\": \"string\",\n            \"description\": \"Model version identifier or official model name.\"\n          },\n          \"input\": {\n            \"type\": \"object\",\n            \"description\": \"Object containing model-specific input parameters, such as prompt, file URL, etc.\"\n          }\n        },\n        \"required\": [\n          \"version\",\n          \"input\"\n        ]\n      },\n      \"outputType\": {\n        \"outputType\": \"object\"\n      }\n    },\n    {\n      \"title\": \"Get Prediction\",\n      \"description\": \"Retrieves the status and results of an existing prediction.\",\n      \"type\": \"action\",\n      \"documentation\": \"https://replicate.com/docs/reference/http#predictions\",\n      \"endpointUrl\": \"https://api.replicate.com/v1/predictions/{prediction_id}\",\n      \"apiBaseUrl\": \"https://api.replicate.com/v1\",\n      \"method\": \"GET\",\n      \"sampleResponse\": {\n        \"id\": \"pred_123\",\n        \"status\": \"succeeded\",\n        \"output\": {\n          \"result\": \"example output\"\n        }\n      },\n      \"inputSchema\": {\n        \"type\": \"object\",\n        \"description\": \"Input parameter for retrieving a prediction.\",\n        \"properties\": {\n          \"prediction_id\": {\n            \"type\": \"string\",\n            \"description\": \"The unique identifier of the prediction.\"\n          }\n        },\n        \"required\": [\n          \"prediction_id\"\n        ]\n      },\n      \"outputType\": {\n        \"outputType\": \"object\"\n      }\n    },\n    {\n      \"title\": \"Find Predictions\",\n      \"description\": \"Retrieves a list of predictions for the authenticated user without pagination parameters.\",\n      \"type\": \"action\",\n      \"documentation\": \"https://replicate.com/docs/reference/http#predictions\",\n      \"endpointUrl\": \"https://api.replicate.com/v1/predictions\",\n      \"apiBaseUrl\": \"https://api.replicate.com/v1\",\n      \"method\": \"GET\",\n      \"sampleResponse\": {\n        \"results\": [\n          {\n            \"id\": \"pred_123\",\n            \"status\": \"succeeded\",\n            \"output\": {\n              \"result\": \"example output\"\n            }\n          },\n          {\n            \"id\": \"pred_124\",\n            \"status\": \"processing\",\n            \"output\": null\n          }\n        ]\n      },\n      \"inputSchema\": {\n        \"type\": \"object\",\n        \"description\": \"Optional filters for retrieving predictions.\",\n        \"properties\": {\n          \"status\": {\n            \"type\": \"string\",\n            \"description\": \"Filter predictions by status (e.g., processing, succeeded, failed, canceled).\"\n          }\n        }\n      },\n      \"outputType\": {\n        \"outputType\": \"array\",\n        \"arrayPropertyValue\": \"results\"\n      }\n    },\n    {\n      \"title\": \"Cancel Prediction\",\n      \"description\": \"Cancels a running prediction.\",\n      \"type\": \"action\",\n      \"documentation\": \"https://replicate.com/docs/reference/http#predictions-cancel\",\n      \"endpointUrl\": \"https://api.replicate.com/v1/predictions/{prediction_id}/cancel\",\n      \"apiBaseUrl\": \"https://api.replicate.com/v1\",\n      \"method\": \"POST\",\n      \"sampleResponse\": {\n        \"id\": \"pred_123\",\n        \"status\": \"canceled\"\n      },\n      \"inputSchema\": {\n        \"type\": \"object\",\n        \"description\": \"Input parameter for canceling a prediction.\",\n        \"properties\": {\n          \"prediction_id\": {\n            \"type\": \"string\",\n            \"description\": \"The unique identifier of the prediction to cancel.\"\n          }\n        },\n        \"required\": [\n          \"prediction_id\"\n        ]\n      },\n      \"outputType\": {\n        \"outputType\": \"object\"\n      }\n    },\n    {\n      \"title\": \"Get Model\",\n      \"description\": \"Retrieves detailed information about a specific model including its input/output schemas and examples.\",\n      \"type\": \"action\",\n      \"documentation\": \"https://replicate.com/docs/reference/http#models\",\n      \"endpointUrl\": \"https://api.replicate.com/v1/models/{model_owner}/{model_name}\",\n      \"apiBaseUrl\": \"https://api.replicate.com/v1\",\n      \"method\": \"GET\",\n      \"sampleResponse\": {\n        \"id\": \"model_owner/model_name\",\n        \"description\": \"A detailed description of the model.\",\n        \"latest_version\": \"ver_abc123\",\n        \"input_schema\": {},\n        \"output_schema\": {}\n      },\n      \"inputSchema\": {\n        \"type\": \"object\",\n        \"description\": \"Input parameters for retrieving a model.\",\n        \"properties\": {\n          \"model_owner\": {\n            \"type\": \"string\",\n            \"description\": \"The owner of the model.\"\n          },\n          \"model_name\": {\n            \"type\": \"string\",\n            \"description\": \"The name of the model.\"\n          }\n        },\n        \"required\": [\n          \"model_owner\",\n          \"model_name\"\n        ]\n      },\n      \"outputType\": {\n        \"outputType\": \"object\"\n      }\n    },\n    {\n      \"title\": \"Find Models\",\n      \"description\": \"Searches and retrieves a collection of public models available on the platform.\",\n      \"type\": \"action\",\n      \"documentation\": \"https://replicate.com/docs/reference/http#models-search\",\n      \"endpointUrl\": \"https://api.replicate.com/v1/models\",\n      \"apiBaseUrl\": \"https://api.replicate.com/v1\",\n      \"method\": \"GET\",\n      \"sampleResponse\": {\n        \"results\": [\n          {\n            \"id\": \"model_owner/model_name\",\n            \"description\": \"A brief model description\"\n          }\n        ]\n      },\n      \"inputSchema\": {\n        \"type\": \"object\",\n        \"description\": \"Input parameter for filtering models by a search query.\",\n        \"properties\": {\n          \"search\": {\n            \"type\": \"string\",\n            \"description\": \"Search term to filter models by keyword.\"\n          }\n        }\n      },\n      \"outputType\": {\n        \"outputType\": \"array\",\n        \"arrayPropertyValue\": \"results\"\n      }\n    }\n  ],\n  \"authentication\": {\n    \"type\": \"apiKey\",\n    \"authUrl\": \"https://replicate.com/account/api-tokens\",\n    \"tokenUrl\": \"\",\n    \"profileInfoUrl\": \"https://api.replicate.com/v1/account\"\n  },\n  \"serviceJson\": {\n    \"name\": \"appmixer.replicate\",\n    \"label\": \"Replicate\",\n    \"category\": \"applications\",\n    \"description\": \"Replicate is a cloud platform for running machine learning models. It provides APIs to create predictions, retrieve model details, and more.\",\n    \"version\": \"1.0.0\",\n    \"icon\": \"https://replicate.com/favicon.ico\"\n  }\n}"
    }
]