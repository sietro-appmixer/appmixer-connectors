{
	"name": "appmixer.servicenow.record.ListRecords",
	"author": "Jiří Hofman <jirka@client.io>",
	"description": "Retrieves multiple records for the specified table.",
	"version": "1.0.0",
	"private": false,
	"auth": {
		"service": "appmixer:servicenow"
	},
	"inPorts": [
        {
            "name": "in",
            "schema": {
                "type": "object",
                "properties": {
                    "tableName": { "type": "string" },
					"sysparm_query": { "type": "string" },
					"sysparm_display_value": { "type": "boolean" },
					"sysparm_exclude_reference_link": { "type": "boolean" },
					"sysparm_suppress_pagination_header": { "type": "boolean" },
					"sysparm_fields": { "type": "string" },
					"sysparm_limit": { "type": "number" },
					"sysparm_offset": { "type": "number" },
					"sysparm_view": { "type": "string" },
					"sysparm_query_category": { "type": "string" },
					"sysparm_query_no_domain": { "type": "boolean" },
					"sysparm_no_count": { "type": "boolean" },
                    "outputType": { "type": "string" }
                },
                "required": [
                    "tableName"
                ]
            },
            "inspector": {
                "inputs": {
                    "tableName": {
                        "type": "text",
                        "label": "Table name",
                        "index": 1,
						"tooltip": "Name of the table from which to retrieve the record."
                    },
					"sysparm_query": {
						"type": "textarea",
						"label": "Query",
						"index": 2,
						"tooltip": "An encoded query string used to filter the results"
					},
					"sysparm_display_value": {
						"type": "toggle",
						"label": "Display value",
						"index": 3,
						"tooltip": "Return field display values (true), actual values (false), or both (all) (default: false)"
					},
					"sysparm_exclude_reference_link": {
						"type": "toggle",
						"label": "Exclude reference link",
						"index": 4,
						"tooltip": "True to exclude Table API links for reference fields (default: false)"
					},
					"sysparm_suppress_pagination_header": {
						"type": "toggle",
						"label": "Suppress pagination header",
						"index": 5,
						"tooltip": "True to supress pagination header (default: false)"
					},
					"sysparm_fields": {
						"type": "text",
						"label": "Fields",
						"index": 6,
						"tooltip": "A comma-separated list of fields to return in the response"
					},
					"sysparm_limit": {
						"type": "number",
						"label": "Limit",
						"index": 7,
						"tooltip": "The maximum number of records to return. If you do not specify a value, the default is 1000. The maximum value is 10000."
					},
					"sysparm_offset": {
						"type": "number",
						"label": "Offset",
						"index": 8,
						"tooltip": "Starting record index for which to begin retrieving records. Use this value to paginate record retrieval. This functionality enables the retrieval of all records, regardless of the number of records, in small manageable chunks. For example, the first time you call this endpoint, sysparm_offset is set to \"0\". To simply page through all available records, use sysparm_offset=sysparm_offset+sysparm_limit, until you reach the end of all records. Do not pass a negative number in the sysparm_offset parameter."
					},
					"sysparm_view": {
						"type": "text",
						"label": "View",
						"index": 9,
						"tooltip": "UI view for which to render the data. Determines the fields returned in the response. Valid values: desktop, mobile, both. If you also specify the sysparm_fields parameter, it takes precedent."
					},
					"sysparm_query_category": {
						"type": "text",
						"label": "Query category",
						"index": 10,
						"tooltip": "Name of the query category (read replica category) to use for queries"
					},
					"sysparm_query_no_domain": {
						"type": "toggle",
						"label": "Query no domain",
						"index": 11,
						"tooltip": "True to access data across domains if authorized (default: false)"
					},
					"sysparm_no_count": {
						"type": "toggle",
						"label": "No count",
						"index": 12,
						"tooltip": "Do not execute a select count(*) on table (default: false)"
					},
                    "outputType": {
                        "type": "select",
                        "label": "Output Type",
                        "index": 13,
                        "defaultValue": "items",
                        "tooltip": "Choose whether you want to receive the result set as one complete list, or one item at a time or stream the items to a file. For large datasets, streaming the rows to a file is the most efficient method.",
                        "options": [
                            { "label": "All at once", "value": "items" },
                            { "label": "One at a time", "value": "item" },
                            { "label": "File", "value": "file" }
                        ]
                    }
                }
            }
        }
    ],
	"outPorts": [
		{
			"name": "out",
			"source": {
				"url": "/component/appmixer/servicenow/record/ListRecords?outPort=out",
				"data": {
					"properties": {
						"generateOutputPortOptions": true
					},
					"messages": {
						"in/outputType": "inputs/in/outputType",
						"in/tableName": "inputs/in/tableName"
					}
				}
			}
		}
	],
	"icon": "data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSI2NCIgaGVpZ2h0PSI2NCI+PHBhdGggZD0iTTMyLjE5NSAzLjMxMkEzMi4yNjcgMzIuMjY3IDAgMCAwIDkuOTQ5IDU4Ljg4M2E2LjM0NiA2LjM0NiAwIDAgMCA4LjI2NC40MyAyMy4wMzUgMjMuMDM1IDAgMCAxIDI3LjQ0NSAwIDYuMzY0IDYuMzY0IDAgMCAwIDguMzg5LS40M0EzMi4yNjcgMzIuMjY3IDAgMCAwIDMyLjE5NSAzLjMxMm0tLjE4IDQ4LjI3NWExNS42MzIgMTUuNjMyIDAgMCAxLTE2LjEzMy0xNi4wMjYgMTYuMDQ0IDE2LjA0NCAwIDEgMSAzMi4wNyAwIDE1LjYxNCAxNS42MTQgMCAwIDEtMTYuMDI2IDE2LjAyNiIgZmlsbC1ydWxlPSJldmVub2RkIiBmaWxsPSIjODFiNWExIi8+PC9zdmc+"
}
